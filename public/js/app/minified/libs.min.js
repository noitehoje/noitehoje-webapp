var gmaps_styles=[{featureType:"all",elementType:"all",stylers:[{invert_lightness:!0},{hue:"#d92bd9"}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:-100}]}];
(function(b){function i(){url=location.href;return hashtag=url.indexOf("#!")!=-1?decodeURI(url.substring(url.indexOf("#!")+2,url.length)):!1}function h(b,d){var b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=RegExp("[\\?&]"+b+"=([^&#]*)").exec(d);return e==null?"":e[1]}b.prettyPhoto={version:"3.1.2"};b.fn.prettyPhoto=function(c){function d(){b(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+(s/2-l.containerHeight/2);projectedTop<0&&(projectedTop=0);$ppt.fadeTo(settings.animation_speed,
1);$pp_pic_holder.find(".pp_content").animate({height:l.contentHeight,width:l.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:t/2-l.containerWidth/2,width:l.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(l.height).width(l.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);isSet&&n(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide();
l.resized?b("a.pp_expand,a.pp_contract").show():b("a.pp_expand").hide();settings.autoplay_slideshow&&!w&&!r&&b.prettyPhoto.startSlideshow();if(settings.deeplinking&&typeof theRel!="undefined")location.hash="!"+theRel+"/"+rel_index+"/";settings.changepicturecallback();r=!0});isSet&&settings.overlay_gallery&&n(pp_images[set_position])=="image"&&settings.ie6_fallback&&!(b.browser.msie&&parseInt(b.browser.version)==6)?(itemWidth=57,navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:
30,itemsPerPage=Math.floor((l.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,totalPage==0?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+
5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,b.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function e(a){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,
function(){b(".pp_loaderIcon").show();a()})}function g(a){a>1?b(".pp_nav").show():b(".pp_nav").hide()}function k(a,j){resized=!1;f(a,j);imageWidth=a;imageHeight=j;if((u>t||v>s)&&doresize&&settings.allow_resize&&!q){resized=!0;for(fitting=!1;!fitting;)u>t?(imageWidth=t-200,imageHeight=j/a*imageWidth):v>s?(imageHeight=s-200,imageWidth=a/j*imageHeight):fitting=!0,v=imageHeight,u=imageWidth;f(imageWidth,imageHeight);(u>t||v>s)&&k(u,v)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),
containerHeight:Math.floor(v),containerWidth:Math.floor(u)+settings.horizontal_padding*2,contentHeight:Math.floor(m),contentWidth:Math.floor(x),resized:resized}}function f(a,j){a=parseFloat(a);j=parseFloat(j);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(a);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(a).appendTo(b("body")).css({position:"absolute",top:-1E4});detailsHeight+=
$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;b.browser.msie&&b.browser.version==7&&(detailsHeight+=8);$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(a);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(b("body")).css({position:"absolute",top:-1E4});titleHeight+=$pp_title.height();$pp_title.remove();m=j+detailsHeight;x=a;v=m+titleHeight+$pp_pic_holder.find(".pp_top").height()+
$pp_pic_holder.find(".pp_bottom").height();u=a}function n(a){return a.match(/youtube\.com\/watch/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":a.substr(0,1)=="#"?"inline":"image"}function a(){doresize&&typeof $pp_pic_holder!="undefined"&&(scroll_pos=o(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=
s/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>s||$pp_pic_holder.css({top:projectedTop,left:t/2+scroll_pos.scrollLeft-contentwidth/2}))}function o(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};else if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};else if(document.body)return{scrollTop:document.body.scrollTop,
scrollLeft:document.body.scrollLeft}}function p(){settings.markup=settings.markup.replace("{pp_social}",settings.social_tools?settings.social_tools:"");b("body").append(settings.markup);$pp_pic_holder=b(".pp_pic_holder");$ppt=b(".ppt");$pp_overlay=b("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var j=0;j<pp_images.length;j++)pp_images[j].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[j]):(classname="default",img_src=""),toInject+="<li class='"+
classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=b(".pp_pic_holder .pp_gallery");$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){b.prettyPhoto.changeGalleryPage("next");b.prettyPhoto.stopSlideshow();return!1});$pp_gallery.find(".pp_arrow_previous").click(function(){b.prettyPhoto.changeGalleryPage("previous");
b.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=57;$pp_gallery_li.each(function(a){b(this).find("a").click(function(){b.prettyPhoto.changePage(a);b.prettyPhoto.stopSlideshow();return!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){b.prettyPhoto.startSlideshow();
return!1}));$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:b(document).height(),width:b(window).width()}).bind("click",function(){settings.modal||b.prettyPhoto.close()});b("a.pp_close").bind("click",function(){b.prettyPhoto.close();return!1});b("a.pp_expand").bind("click",function(){b(this).hasClass("pp_expand")?(b(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(b(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0);
e(function(){b.prettyPhoto.open()});return!1});$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){b.prettyPhoto.changePage("previous");b.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){b.prettyPhoto.changePage("next");b.prettyPhoto.stopSlideshow();return!1});a()}var c=jQuery.extend({animation_speed:"fast",slideshow:5E3,autoplay_slideshow:!1,opacity:0.8,show_title:!0,allow_resize:!0,default_width:500,
default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"><div class="ppt">&nbsp;</div><div class="pp_top"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div><div class="pp_content_container"><div class="pp_left"><div class="pp_right"><div class="pp_content"><div class="pp_loaderIcon"></div><div class="pp_fade"><a href="#" class="pp_expand" title="Expand the image">Expand</a><div class="pp_hoverContainer"><a class="pp_next" href="#">next</a><a class="pp_previous" href="#">previous</a></div><div id="pp_full_res"></div><div class="pp_details"><div class="pp_nav"><a href="#" class="pp_arrow_previous">Previous</a><p class="currentTextHolder">0/0</p><a href="#" class="pp_arrow_next">Next</a></div><p class="pp_description"></p>{pp_social}<a class="pp_close" href="#">Close</a></div></div></div></div></div></div><div class="pp_bottom"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div></div><div class="pp_overlay"></div>',
gallery_markup:'<div class="pp_gallery"><a href="#" class="pp_arrow_previous">Previous</a><div><ul>{gallery}</ul></div><a href="#" class="pp_arrow_next">Next</a></div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',
quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',
inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="pp_social"><div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="http://www.facebook.com/plugins/like.php?locale=en_US&href='+location.href+'&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div></div>'},
c),j=this,q=!1,l,r,m,x,v,u,s=b(window).height(),t=b(window).width(),w;doresize=!0;scroll_pos=o();b(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){a();s=b(window).height();t=b(window).width();typeof $pp_overlay!="undefined"&&$pp_overlay.height(b(document).height()).width(t)});c.keyboard_shortcuts&&b(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(a){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(a.keyCode){case 37:b.prettyPhoto.changePage("previous");
a.preventDefault();break;case 39:b.prettyPhoto.changePage("next");a.preventDefault();break;case 27:settings.modal||b.prettyPhoto.close(),a.preventDefault()}});b.prettyPhoto.initialize=function(){settings=c;if(settings.theme=="pp_default")settings.horizontal_padding=16;if(settings.ie6_fallback&&b.browser.msie&&parseInt(b.browser.version)==6)settings.theme="light_square";theRel=b(this).attr("rel");galleryRegExp=/\[(?:.*)\]/;pp_images=(isSet=galleryRegExp.exec(theRel)?!0:!1)?jQuery.map(j,function(a){if(b(a).attr("rel").indexOf(theRel)!=
-1)return b(a).attr("href")}):b.makeArray(b(this).attr("href"));pp_titles=isSet?jQuery.map(j,function(a){if(b(a).attr("rel").indexOf(theRel)!=-1)return b(a).find("img").attr("alt")?b(a).find("img").attr("alt"):""}):b.makeArray(b(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(j,function(a){if(b(a).attr("rel").indexOf(theRel)!=-1)return b(a).attr("title")?b(a).attr("title"):""}):b.makeArray(b(this).attr("title"));set_position=jQuery.inArray(b(this).attr("href"),pp_images);rel_index=
isSet?set_position:b("a[rel^='"+theRel+"']").index(b(this));p(this);settings.allow_resize&&b(window).bind("scroll.prettyphoto",function(){a()});b.prettyPhoto.open();return!1};b.prettyPhoto.open=function(a,j,f){if(typeof settings=="undefined"){settings=c;if(b.browser.msie&&b.browser.version==6)settings.theme="light_square";pp_images=b.makeArray(a);pp_titles=j?b.makeArray(j):b.makeArray("");pp_descriptions=f?b.makeArray(f):b.makeArray("");isSet=pp_images.length>1?!0:!1;set_position=0;p(a.target)}b.browser.msie&&
b.browser.version==6&&b("select").css("visibility","hidden");settings.hideflash&&b("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");g(b(pp_images).size());b(".pp_loaderIcon").show();$ppt.is(":hidden")&&$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+b(pp_images).size());pp_descriptions[set_position]!=""?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):
$pp_pic_holder.find(".pp_description").hide();movie_width=parseFloat(h("width",pp_images[set_position]))?h("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(h("height",pp_images[set_position]))?h("height",pp_images[set_position]):settings.default_height.toString();q=!1;movie_height.indexOf("%")!=-1&&(movie_height=parseFloat(b(window).height()*parseFloat(movie_height)/100-150),q=!0);movie_width.indexOf("%")!=-1&&(movie_width=parseFloat(b(window).width()*parseFloat(movie_width)/
100-150),q=!0);$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=!1;switch(n(pp_images[set_position])){case "image":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<b(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-
1];$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){l=k(imgPreloader.width,imgPreloader.height);d()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");b.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case "youtube":l=k(movie_width,movie_height);movie="http://www.youtube.com/embed/"+h("v",pp_images[set_position]);h("rel",
pp_images[set_position])?movie+="?rel="+h("rel",pp_images[set_position]):movie+="?rel=1";settings.autoplay&&(movie+="&autoplay=1");toInject=settings.iframe_markup.replace(/{width}/g,l.width).replace(/{height}/g,l.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case "vimeo":l=k(movie_width,movie_height);movie_id=pp_images[set_position];movie="http://player.vimeo.com/video/"+movie_id.match(/http:\/\/(www\.)?vimeo.com\/(\d+)/)[2]+"?title=0&amp;byline=0&amp;portrait=0";settings.autoplay&&
(movie+="&autoplay=1;");vimeo_width=l.width+"/embed/?moog_width="+l.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,l.height).replace(/{path}/g,movie);break;case "quicktime":l=k(movie_width,movie_height);l.height+=15;l.contentHeight+=15;l.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,l.width).replace(/{height}/g,l.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);
break;case "flash":l=k(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,l.width).replace(/{height}/g,l.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case "iframe":l=k(movie_width,movie_height);frame_url=
pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,l.width).replace(/{height}/g,l.height).replace(/{path}/g,frame_url);break;case "ajax":doresize=!1;l=k(movie_width,movie_height);skipInjection=doresize=!0;b.get(pp_images[set_position],function(a){toInject=settings.inline_markup.replace(/{content}/g,a);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;d()});break;case "custom":l=k(movie_width,movie_height);
toInject=settings.custom_markup;break;case "inline":myClone=b(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(b("body")).show(),doresize=!1,l=k(b(myClone).width(),b(myClone).height()),doresize=!0,b(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,b(pp_images[set_position]).html())}if(!imgPreloader&&!skipInjection)$pp_pic_holder.find("#pp_full_res")[0].innerHTML=
toInject,d()});return!1};b.prettyPhoto.changePage=function(a){currentGalleryPage=0;a=="previous"?(set_position--,set_position<0&&(set_position=b(pp_images).size()-1)):a=="next"?(set_position++,set_position>b(pp_images).size()-1&&(set_position=0)):set_position=a;rel_index=set_position;doresize||(doresize=!0);b(".pp_contract").removeClass("pp_contract").addClass("pp_expand");e(function(){b.prettyPhoto.open()})};b.prettyPhoto.changeGalleryPage=function(a){a=="next"?(currentGalleryPage++,currentGalleryPage>
totalPage&&(currentGalleryPage=0)):a=="previous"?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=a;slide_speed=a=="next"||a=="previous"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};b.prettyPhoto.startSlideshow=function(){typeof w=="undefined"?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){b.prettyPhoto.stopSlideshow();
return!1}),w=setInterval(b.prettyPhoto.startSlideshow,settings.slideshow)):b.prettyPhoto.changePage("next")};b.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){b.prettyPhoto.startSlideshow();return!1});clearInterval(w);w=void 0};b.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(b.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),b("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,
function(){b(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){b.browser.msie&&b.browser.version==6&&b("select").css("visibility","visible");settings.hideflash&&b("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");b(this).remove();b(window).unbind("scroll.prettyphoto");settings.callback();doresize=!0;r=!1;delete settings}))};!pp_alreadyInitialized&&i()&&(pp_alreadyInitialized=!0,hashRel=hashIndex=i(),hashIndex=hashIndex.substring(hashIndex.indexOf("/")+
1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){b("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50));return this.unbind("click.prettyphoto").bind("click.prettyphoto",b.prettyPhoto.initialize)}})(jQuery);var pp_alreadyInitialized=!1;
function parseUri(b){for(var i=parseUri.options,b=i.parser[i.strictMode?"strict":"loose"].exec(b),h={},c=14;c--;)h[i.key[c]]=b[c]||"";h[i.q.name]={};h[i.key[12]].replace(i.q.parser,function(b,c,g){c&&(h[i.q.name][c]=g)});return h}
parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
function getPosition(b){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){b({location:new google.maps.LatLng(i.coords.latitude,i.coords.longitude),provider:"W3C standard",success:!0})},function(){b({success:!1,errorMsg:"Error: The Geolocation service failed."})},{timeout:5E3}):b({success:!1,errorMsg:"Error: Your browser doesn't support geolocation."})}
function setupMap(b){if(b.success){var i={zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP};resizeMap();var h=new google.maps.Map(document.getElementById("map_canvas"),i);h.setCenter(b.location);var c=new google.maps.Marker({position:b.location,map:h,title:b.title}),d=new google.maps.InfoWindow({content:"<p>"+b.title+"</p>"});google.maps.event.addListener(c,"click",function(){d.open(h,c)})}else alert(b.errorMsg)}
function resizeMap(){var b=$("#map_canvas"),i=$(window).width(),h=$(window).height();b.width(i);b.height(h-15-43)}var JSON;JSON||(JSON={});
(function(){function b(c,a){var d,k,j,q,l=e,r,m=a[c];m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(c));typeof f=="function"&&(m=f.call(a,c,m));switch(typeof m){case "string":return i(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);case "object":if(!m)return"null";e+=g;r=[];if(Object.prototype.toString.apply(m)==="[object Array]"){q=m.length;for(d=0;d<q;d+=1)r[d]=b(d,m)||"null";j=r.length===0?"[]":e?"[\n"+e+r.join(",\n"+e)+"\n"+l+"]":
"["+r.join(",")+"]";e=l;return j}if(f&&typeof f=="object"){q=f.length;for(d=0;d<q;d+=1)k=f[d],typeof k=="string"&&(j=b(k,m),j&&r.push(i(k)+(e?": ":":")+j))}else for(k in m)Object.hasOwnProperty.call(m,k)&&(j=b(k,m),j&&r.push(i(k)+(e?": ":":")+j));j=r.length===0?"{}":e?"{\n"+e+r.join(",\n"+e)+"\n"+l+"}":"{"+r.join(",")+"}";e=l;return j}}function i(b){d.lastIndex=0;return d.test(b)?'"'+b.replace(d,function(a){var b=k[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+b+'"'}function h(b){return b<10?"0"+b:b}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,g,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f;typeof JSON.stringify!="function"&&(JSON.stringify=function(c,a,d){var k;g=e="";if(typeof d=="number")for(k=0;k<d;k+=1)g+=" ";else typeof d=="string"&&(g=d);if((f=a)&&typeof a!="function"&&(typeof a!="object"||typeof a.length!="number"))throw Error("JSON.stringify");return b("",{"":c})});
typeof JSON.parse!="function"&&(JSON.parse=function(b,a){function d(j,b){var c,g,f=j[b];if(f&&typeof f=="object")for(c in f)Object.hasOwnProperty.call(f,c)&&(g=d(f,c),g!==void 0?f[c]=g:delete f[c]);return a.call(j,b,f)}var g,b=String(b);c.lastIndex=0;c.test(b)&&(b=b.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+b+")"),typeof a=="function"?d({"":g},""):g;throw new SyntaxError("JSON.parse");})})();
(function(b,i){function h(b,d){var f=d.__amplify__?JSON.parse(d.__amplify__):{};c.addType(b,function(e,a,h){var p=a,j=(new Date).getTime();if(!e){p={};for(e in f)a=(a=d[e])?JSON.parse(a):{expires:-1},a.expires&&a.expires<=j?(delete d[e],delete f[e]):p[e.replace(/^__amplify__/,"")]=a.data;d.__amplify__=JSON.stringify(f);return p}e="__amplify__"+e;if(a===i){if(f[e])if(a=(a=d[e])?JSON.parse(a):{expires:-1},a.expires&&a.expires<=j)delete d[e],delete f[e];else return a.data}else if(a===null)delete d[e],
delete f[e];else{a=JSON.stringify({data:a,expires:h.expires?j+h.expires:null});try{d[e]=a,f[e]=!0}catch(q){c[b]();try{d[e]=a,f[e]=!0}catch(l){throw c.error();}}}d.__amplify__=JSON.stringify(f);return p})}JSON.stringify=JSON.stringify||JSON.encode;JSON.parse=JSON.parse||JSON.decode;var c=b.store=function(b,d,f,e){e=c.type;f&&f.type&&f.type in c.types&&(e=f.type);return c.types[e](b,d,f||{})};c.types={};c.type=null;c.addType=function(b,d){c.type||(c.type=b);c.types[b]=d;c[b]=function(d,e,a){a=a||{};
a.type=b;return c(d,e,a)}};c.error=function(){return"amplify.store quota exceeded"};for(var d in{localStorage:1,sessionStorage:1})try{window[d].getItem&&h(d,window[d])}catch(e){}window.globalStorage&&(h("globalStorage",window.globalStorage[window.location.hostname]),c.type==="sessionStorage"&&(c.type="globalStorage"));(function(){var b=document.createElement("div"),d;b.style.display="none";document.getElementsByTagName("head")[0].appendChild(b);b.addBehavior&&(b.addBehavior("#default#userdata"),b.load("amplify"),
d=b.getAttribute("amplify")?JSON.parse(b.getAttribute("amplify")):{},c.addType("userData",function(e,h,a){var o=h,p=(new Date).getTime(),j,q;if(!e){o={};for(e in d)j=(h=b.getAttribute(e))?JSON.parse(h):{expires:-1},j.expires&&j.expires<=p?(b.removeAttribute(e),delete d[e]):o[e]=j.data;b.setAttribute("amplify",JSON.stringify(d));b.save("amplify");return o}e=e.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");if(h===i){if(e in d)if(j=
(h=b.getAttribute(e))?JSON.parse(h):{expires:-1},j.expires&&j.expires<=p)b.removeAttribute(e),delete d[e];else return j.data}else h===null?(b.removeAttribute(e),delete d[e]):(q=b.getAttribute(e),j=JSON.stringify({data:h,expires:a.expires?p+a.expires:null}),b.setAttribute(e,j),d[e]=!0);b.setAttribute("amplify",JSON.stringify(d));try{b.save("amplify")}catch(l){q===null?(b.removeAttribute(e),delete d[e]):b.setAttribute(e,q);c.userData();try{b.setAttribute(e,j),d[e]=!0,b.save("amplify")}catch(r){throw q===
null?(b.removeAttribute(e),delete d[e]):b.setAttribute(e,q),c.error();}}return o}))})();h("memory",{})})(this.amplify=this.amplify||{});(function(b){var i=b.History=b.History||{},h=b.jQuery;if(typeof i.Adapter!="undefined")throw Error("History.js Adapter has already been loaded...");i.Adapter={bind:function(b,d,e){h(b).bind(d,e)},trigger:function(b,d){h(b).trigger(d)},onDomLoad:function(b){h(b)}};typeof i.init!="undefined"&&i.init()})(window);
(function(b,i){var h=b.console||i,c=b.document,d=b.navigator,e=b.amplify||!1,g=b.setTimeout,k=b.clearTimeout,f=b.setInterval,n=b.JSON,a=b.History=b.History||{},o=b.history;n.stringify=n.stringify||n.encode;n.parse=n.parse||n.decode;if(typeof a.init!="undefined")throw Error("History.js Core has already been loaded...");a.init=function(){if(typeof a.Adapter=="undefined")return!1;typeof a.initCore!="undefined"&&a.initCore();typeof a.initHtml4!="undefined"&&a.initHtml4();return!0};a.initCore=function(){if(typeof a.initCore.initialized!=
"undefined")return!1;a.initCore.initialized=!0;a.options=a.options||{};a.options.hashChangeInterval=a.options.hashChangeInterval||100;a.options.safariPollInterval=a.options.safariPollInterval||500;a.options.doubleCheckInterval=a.options.doubleCheckInterval||500;a.options.storeInterval=a.options.storeInterval||1E3;a.options.busyDelay=a.options.busyDelay||250;a.options.debug=a.options.debug||!1;a.options.initialTitle=a.options.initialTitle||c.title;a.debug=function(){a.options.debug&&a.log.apply(a,
arguments)};a.log=function(){var a=typeof h!="undefined"&&typeof h.log!="undefined"&&typeof h.log.apply!="undefined",b=c.getElementById("log"),d,e,f;a?(e=Array.prototype.slice.call(arguments),d=e.shift(),typeof h.debug!="undefined"?h.debug.apply(h,[d,e]):h.log.apply(h,[d,e])):d="\n"+arguments[0]+"\n";e=1;for(f=arguments.length;e<f;++e){var g=arguments[e];if(typeof g=="object"&&typeof n!="undefined")try{g=n.stringify(g)}catch(k){}d+="\n"+g+"\n"}b?(b.value+=d+"\n-----\n",b.scrollTop=b.scrollHeight-
b.clientHeight):a||alert(d);return!0};a.getInternetExplorerMajorVersion=function(){return a.getInternetExplorerMajorVersion.cached=typeof a.getInternetExplorerMajorVersion.cached!="undefined"?a.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=c.createElement("div"),d=b.getElementsByTagName("i");(b.innerHTML="<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>")&&d[0];);return a>4?a:!1}()};a.isInternetExplorer=function(){return a.isInternetExplorer.cached=typeof a.isInternetExplorer.cached!=
"undefined"?a.isInternetExplorer.cached:Boolean(a.getInternetExplorerMajorVersion())};a.emulated={pushState:!Boolean(b.history&&b.history.pushState&&b.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(d.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(d.userAgent)),hashChange:Boolean(!("onhashchange"in b||"onhashchange"in c)||a.isInternetExplorer()&&a.getInternetExplorerMajorVersion()<8)};a.enabled=!a.emulated.pushState;a.bugs={setHash:Boolean(!a.emulated.pushState&&d.vendor===
"Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(d.userAgent)),safariPoll:Boolean(!a.emulated.pushState&&d.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(d.userAgent)),ieDoubleCheck:Boolean(a.isInternetExplorer()&&a.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(a.isInternetExplorer()&&a.getInternetExplorerMajorVersion()<7)};a.isEmptyObject=function(a){for(var b in a)return!1;return!0};a.cloneObject=function(a){var b,c;a?(b=n.stringify(a),c=n.parse(b)):c=
{};return c};a.getRootUrl=function(){var a=c.location.protocol+"//"+(c.location.hostname||c.location.host);c.location.port&&(a+=":"+c.location.port);a+="/";return a};a.getBaseHref=function(){var a=c.getElementsByTagName("base"),b="";a.length===1&&(a=a[0],b=null.href.replace(/[^\/]+$/,""));(b=b.replace(/\/+$/,""))&&(b+="/");return b};a.getBaseUrl=function(){return a.getBaseHref()||a.getBasePageUrl()||a.getRootUrl()};a.getPageUrl=function(){return((a.getState(!1,!1)||{}).url||c.location.href).replace(/\/+$/,
"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})};a.getBasePageUrl=function(){return c.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};a.getFullUrl=function(b,c){var d=b,e=b.substring(0,1),c=typeof c=="undefined"?!0:c;/[a-z]+\:\/\//.test(b)||(e==="/"?d=a.getRootUrl()+b.replace(/^\/+/,""):e==="#"?d=a.getPageUrl().replace(/#.*/,"")+b:e==="?"?d=a.getPageUrl().replace(/[\?#].*/,"")+b:c?d=a.getBaseUrl()+b.replace(/^(\.\/)+/,
""):d=a.getBasePageUrl()+b.replace(/^(\.\/)+/,""));return d.replace(/\#$/,"")};a.getShortUrl=function(b){var c=a.getBaseUrl(),d=a.getRootUrl();a.emulated.pushState&&(b=b.replace(c,""));b=b.replace(d,"/");a.isTraditionalAnchor(b)&&(b="./"+b);return b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};a.store=e?e.store("History.store")||{}:{};a.store.idToState=a.store.idToState||{};a.store.urlToId=a.store.urlToId||{};a.store.stateToId=a.store.stateToId||{};a.idToState=a.idToState||{};a.stateToId=a.stateToId||
{};a.urlToId=a.urlToId||{};a.storedStates=a.storedStates||[];a.savedStates=a.savedStates||[];a.getState=function(b,c){typeof b=="undefined"&&(b=!0);typeof c=="undefined"&&(c=!0);var d=a.getLastSavedState();!d&&c&&(d=a.createStateObject());b&&(d=a.cloneObject(d),d.url=d.cleanUrl||d.url);return d};a.getIdByState=function(b){var c=a.extractId(b.url);if(!c){var d=a.getStateString(b);if(typeof a.stateToId[d]!="undefined")c=a.stateToId[d];else if(typeof a.store.stateToId[d]!="undefined")c=a.store.stateToId[d];
else{for(;;)if(c=String(Math.floor(Math.random()*1E3)),typeof a.idToState[c]=="undefined"&&typeof a.store.idToState[c]=="undefined")break;a.stateToId[d]=c;a.idToState[c]=b}}return c};a.normalizeState=function(b){if(!b||typeof b!="object")b={};if(typeof b.normalized!="undefined")return b;if(!b.data||typeof b.data!="object")b.data={};var d={normalized:!0};d.title=b.title||"";d.url=a.getFullUrl(a.unescapeString(b.url||c.location.href));d.hash=a.getShortUrl(d.url);d.data=a.cloneObject(b.data);d.id=a.getIdByState(d);
d.cleanUrl=d.url.replace(/\??\&_suid.*/,"");d.url=d.cleanUrl;b=!a.isEmptyObject(d.data);if(d.title||b)d.hash=a.getShortUrl(d.url).replace(/\??\&_suid.*/,""),/\?/.test(d.hash)||(d.hash+="?"),d.hash+="&_suid="+d.id;d.hashedUrl=a.getFullUrl(d.hash);(a.emulated.pushState||a.bugs.safariPoll)&&a.hasUrlDuplicate(d)&&(d.url=d.hashedUrl);return d};a.createStateObject=function(b,c,d){b={data:b,title:c,url:d};return b=a.normalizeState(b)};a.getStateById=function(b){b=String(b);return a.idToState[b]||a.store.idToState[b]||
i};a.getStateString=function(b){b={data:a.normalizeState(b).data,title:b.title,url:b.url};return n.stringify(b)};a.getStateId=function(b){return a.normalizeState(b).id};a.getHashByState=function(b){return a.normalizeState(b).hash};a.extractId=function(a){return((a=/(.*)\&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};a.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};a.extractState=function(b,c){var d=null,c=c||!1,e=a.extractId(b);e&&(d=a.getStateById(e));if(!d){var f=a.getFullUrl(b);
(e=a.getIdByUrl(f)||!1)&&(d=a.getStateById(e));!d&&c&&!a.isTraditionalAnchor(b)&&(d=a.createStateObject(null,null,f))}return d};a.getIdByUrl=function(b){return a.urlToId[b]||a.store.urlToId[b]||i};a.getLastSavedState=function(){return a.savedStates[a.savedStates.length-1]||i};a.getLastStoredState=function(){return a.storedStates[a.storedStates.length-1]||i};a.hasUrlDuplicate=function(b){var c=!1;return c=(c=a.extractState(b.url))&&c.id!==b.id};a.storeState=function(b){a.urlToId[b.url]=b.id;a.storedStates.push(a.cloneObject(b));
return b};a.isLastSavedState=function(b){var c=!1;if(a.savedStates.length)b=b.id,c=a.getLastSavedState().id,c=b===c;return c};a.saveState=function(b){if(a.isLastSavedState(b))return!1;a.savedStates.push(a.cloneObject(b));return!0};a.getStateByIndex=function(b){var c=null;typeof b=="undefined"?c=a.savedStates[a.savedStates.length-1]:b<0?c=a.savedStates[a.savedStates.length+b]:c=a.savedStates[b];return c};a.getHash=function(){return a.unescapeHash(c.location.hash)};a.unescapeString=function(a){for(var c;;){c=
b.unescape(a);if(c===a)break;a=c}return a};a.unescapeHash=function(b){b=a.normalizeHash(b);return b=a.unescapeString(b)};a.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};a.setHash=function(b,d){if(d!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.setHash,args:arguments,queue:d}),!1;var e=a.escapeHash(b);a.busy(!0);var f=a.extractState(b,!0);if(f&&!a.emulated.pushState)a.pushState(f.data,f.title,f.url,!1);else if(c.location.hash!==e)a.bugs.setHash?(f=a.getPageUrl(),
a.pushState(null,null,f+"#"+e,!1)):c.location.hash=e;return a};a.escapeHash=function(c){c=a.normalizeHash(c);c=b.escape(c);a.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return c};a.getHashByUrl=function(b){b=String(b).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=a.unescapeHash(b)};a.setTitle=function(b){var d=b.title;if(!d){var e=a.getStateByIndex(0);e&&e.url===b.url&&(d=e.title||a.options.initialTitle)}try{c.getElementsByTagName("title")[0].innerHTML=
d.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}c.title=d;return a};a.queues=[];a.busy=function(b){typeof b!="undefined"?a.busy.flag=b:typeof a.busy.flag=="undefined"&&(a.busy.flag=!1);if(!a.busy.flag){k(a.busy.timeout);var c=function(){if(!a.busy.flag)for(var b=a.queues.length-1;b>=0;--b){var d=a.queues[b];if(d.length!==0)d=d.shift(),a.fireQueueItem(d),a.busy.timeout=g(c,a.options.busyDelay)}};a.busy.timeout=g(c,a.options.busyDelay)}return a.busy.flag};a.fireQueueItem=
function(b){return b.callback.apply(b.scope||a,b.args||[])};a.pushQueue=function(b){a.queues[b.queue||0]=a.queues[b.queue||0]||[];a.queues[b.queue||0].push(b);return a};a.queue=function(b,c){typeof b=="function"&&(b={callback:b});typeof c!="undefined"&&(b.queue=c);a.busy()?a.pushQueue(b):a.fireQueueItem(b);return a};a.clearQueue=function(){a.busy.flag=!1;a.queues=[];return a};a.stateChanged=!1;a.doubleChecker=!1;a.doubleCheckComplete=function(){a.stateChanged=!0;a.doubleCheckClear();return a};a.doubleCheckClear=
function(){a.doubleChecker&&(k(a.doubleChecker),a.doubleChecker=!1);return a};a.doubleCheck=function(b){a.stateChanged=!1;a.doubleCheckClear();a.bugs.ieDoubleCheck&&(a.doubleChecker=g(function(){a.doubleCheckClear();a.stateChanged||b();return!0},a.options.doubleCheckInterval));return a};a.safariStatePoll=function(){var d=a.extractState(c.location.href);if(!a.isLastSavedState(d))return d||a.createStateObject(),a.Adapter.trigger(b,"popstate"),a};a.back=function(b){if(b!==!1&&a.busy())return a.pushQueue({scope:a,
callback:a.back,args:arguments,queue:b}),!1;a.busy(!0);a.doubleCheck(function(){a.back(!1)});o.go(-1);return!0};a.forward=function(b){if(b!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.forward,args:arguments,queue:b}),!1;a.busy(!0);a.doubleCheck(function(){a.forward(!1)});o.go(1);return!0};a.go=function(b,c){var d;if(b>0)for(d=1;d<=b;++d)a.forward(c);else{if(!(b<0))throw Error("History.go: History.go requires a positive or negative integer passed.");for(d=-1;d>=b;--d)a.back(c)}return a};a.saveState(a.storeState(a.extractState(c.location.href,
!0)));e&&(a.onUnload=function(){var b=e.store("History.store")||{},c;b.idToState=b.idToState||{};b.urlToId=b.urlToId||{};b.stateToId=b.stateToId||{};for(c in a.idToState)a.idToState.hasOwnProperty(c)&&(b.idToState[c]=a.idToState[c]);for(c in a.urlToId)a.urlToId.hasOwnProperty(c)&&(b.urlToId[c]=a.urlToId[c]);for(c in a.stateToId)a.stateToId.hasOwnProperty(c)&&(b.stateToId[c]=a.stateToId[c]);a.store=b;e.store("History.store",b)},f(a.onUnload,a.options.storeInterval),a.Adapter.bind(b,"beforeunload",
a.onUnload),a.Adapter.bind(b,"unload",a.onUnload));if(a.emulated.pushState){var p=function(){};a.pushState=a.pushState||p;a.replaceState=a.replaceState||p}else if(a.onPopState=function(d){a.doubleCheckComplete();var e=a.getHash();if(e)return(d=a.extractState(e||c.location.href,!0))?a.replaceState(d.data,d.title,d.url,!1):(a.Adapter.trigger(b,"anchorchange"),a.busy(!1)),a.expectedStateId=!1;e=!1;d=d||{};typeof d.state=="undefined"&&(typeof d.originalEvent!="undefined"&&typeof d.originalEvent.state!=
"undefined"?d.state=d.originalEvent.state||!1:typeof d.event!="undefined"&&typeof d.event.state!="undefined"&&(d.state=d.event.state||!1));d.state=d.state||!1;d.state?e=a.getStateById(d.state):a.expectedStateId?e=a.getStateById(a.expectedStateId):e=a.extractState(c.location.href);e||(e=a.createStateObject(null,null,c.location.href));a.expectedStateId=!1;if(a.isLastSavedState(e))return a.busy(!1),!1;a.storeState(e);a.saveState(e);a.setTitle(e);a.Adapter.trigger(b,"statechange");a.busy(!1);return!0},
a.Adapter.bind(b,"popstate",a.onPopState),a.pushState=function(c,d,e,f){if(a.getHashByUrl(e)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:f}),!1;a.busy(!0);var g=a.createStateObject(c,d,e);a.isLastSavedState(g)?a.busy(!1):(a.storeState(g),a.expectedStateId=g.id,o.pushState(g.id,g.title,g.url),a.Adapter.trigger(b,"popstate"));return!0},a.replaceState=
function(c,d,e,f){if(a.getHashByUrl(e)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:f}),!1;a.busy(!0);var g=a.createStateObject(c,d,e);a.isLastSavedState(g)?a.busy(!1):(a.storeState(g),a.expectedStateId=g.id,o.replaceState(g.id,g.title,g.url),a.Adapter.trigger(b,"popstate"));return!0},a.bugs.safariPoll&&f(a.safariStatePoll,a.options.safariPollInterval),
d.vendor==="Apple Computer, Inc."||(d.appCodeName||"")==="Mozilla")a.Adapter.bind(b,"hashchange",function(){a.Adapter.trigger(b,"popstate")}),a.getHash()&&a.Adapter.onDomLoad(function(){a.Adapter.trigger(b,"hashchange")})};a.init()})(window);
(function(b){var i=b.document,h=b.setInterval||h,c=b.History=b.History||{};if(typeof c.initHtml4!="undefined")throw Error("History.js HTML4 Support has already been loaded...");c.initHtml4=function(){if(typeof c.initHtml4.initialized!="undefined")return!1;c.initHtml4.initialized=!0;c.enabled=!0;c.savedHashes=[];c.isLastHash=function(b){var e=c.getHashByIndex();return b===e};c.saveHash=function(b){if(c.isLastHash(b))return!1;c.savedHashes.push(b);return!0};c.getHashByIndex=function(b){var e=null;typeof b==
"undefined"?e=c.savedHashes[c.savedHashes.length-1]:b<0?e=c.savedHashes[c.savedHashes.length+b]:e=c.savedHashes[b];return e};c.discardedHashes={};c.discardedStates={};c.discardState=function(b,e,g){var h=c.getHashByState(b);c.discardedStates[h]={discardedState:b,backState:g,forwardState:e};return!0};c.discardHash=function(b,e,g){c.discardedHashes[b]={discardedHash:b,backState:g,forwardState:e};return!0};c.discardedState=function(b){b=c.getHashByState(b);return c.discardedStates[b]||!1};c.discardedHash=
function(b){return c.discardedHashes[b]||!1};c.recycleState=function(b){var e=c.getHashByState(b);c.discardedState(b)&&delete c.discardedStates[e];return!0};c.emulated.hashChange&&(c.hashChangeInit=function(){c.checkerFunction=null;var d="";if(c.isInternetExplorer()){var e=i.createElement("iframe");e.setAttribute("id","historyjs-iframe");e.style.display="none";i.body.appendChild(e);e.contentWindow.document.open();e.contentWindow.document.close();var g="",k=!1;c.checkerFunction=function(){if(k)return!1;
k=!0;var f=c.getHash()||"",h=c.unescapeHash(e.contentWindow.document.location.hash)||"";f!==d?(d=f,h!==f&&(g=f,e.contentWindow.document.open(),e.contentWindow.document.close(),e.contentWindow.document.location.hash=c.escapeHash(f)),c.Adapter.trigger(b,"hashchange")):h!==g&&(g=h,c.setHash(h,!1));k=!1;return!0}}else c.checkerFunction=function(){var e=c.getHash();e!==d&&(d=e,c.Adapter.trigger(b,"hashchange"));return!0};h(c.checkerFunction,c.options.hashChangeInterval);return!0},c.Adapter.onDomLoad(c.hashChangeInit));
c.emulated.pushState&&(c.onHashChange=function(d){var e=c.getHashByUrl(d&&d.newURL||i.location.href),d=null;if(c.isLastHash(e))return c.busy(!1),!1;c.doubleCheckComplete();c.saveHash(e);if(e&&c.isTraditionalAnchor(e))return c.Adapter.trigger(b,"anchorchange"),c.busy(!1),!1;d=c.extractState(c.getFullUrl(e||i.location.href,!1),!0);if(c.isLastSavedState(d))return c.busy(!1),!1;c.getHashByState(d);if(e=c.discardedState(d))return c.getHashByIndex(-2)===c.getHashByState(e.forwardState)?c.back(!1):c.forward(!1),
!1;c.pushState(d.data,d.title,d.url,!1);return!0},c.Adapter.bind(b,"hashchange",c.onHashChange),c.pushState=function(d,e,g,h){if(c.getHashByUrl(g))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(h!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:h}),!1;c.busy(!0);var f=c.createStateObject(d,e,g),n=c.getHashByState(f),a=c.getState(!1),a=c.getHashByState(a),o=c.getHash();c.storeState(f);c.expectedStateId=f.id;c.recycleState(f);
c.setTitle(f);if(n===a)return c.busy(!1),!1;if(n!==o&&n!==c.getShortUrl(i.location.href))return c.setHash(n,!1),!1;c.saveState(f);c.Adapter.trigger(b,"statechange");c.busy(!1);return!0},c.replaceState=function(b,e,g,h){if(c.getHashByUrl(g))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(h!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:h}),!1;c.busy(!0);var f=c.createStateObject(b,e,g),i=c.getState(!1),a=c.getStateByIndex(-2);
c.discardState(i,f,a);c.pushState(f.data,f.title,f.url,!1);return!0},c.getHash()&&!c.emulated.hashChange&&c.Adapter.onDomLoad(function(){c.Adapter.trigger(b,"hashchange")}))};c.init()})(window);
(function(b){b.reject=function(c){c=b.extend(!0,{reject:{all:!1,msie5:!0,msie6:!0},display:[],browserInfo:{firefox:{text:"Firefox 3.5+",url:"http://www.mozilla.com/firefox/"},safari:{text:"Safari 4",url:"http://www.apple.com/safari/download/"},opera:{text:"Opera 10.5",url:"http://www.opera.com/download/"},chrome:{text:"Chrome 5",url:"http://www.google.com/chrome/"},msie:{text:"Internet Explorer 8",url:"http://www.microsoft.com/windows/Internet-explorer/"},gcf:{text:"Google Chrome Frame",url:"http://code.google.com/chrome/chromeframe/",
allow:{all:!1,msie:!0}}},header:"Did you know that your Internet Browser is out of date?",paragraph1:"Your browser is out of date, and may not be compatible with our website. A list of the most popular web browsers can be found below.",paragraph2:"Just click on the icons to get to the download page",close:!0,closeMessage:"By closing this window you acknowledge that your experience on this website may be degraded",closeLink:"Close This Window",closeURL:"#",closeESC:!0,closeCookie:!1,cookieSettings:{path:"/",
expires:0},imagePath:"/images/",overlayBgColor:"#000",overlayOpacity:0.8,fadeInTime:"fast",fadeOutTime:"fast"},c);if(c.display.length<1)c.display=["firefox","chrome","msie","safari","opera","gcf"];b.isFunction(c.beforeReject)&&c.beforeReject(c);if(!c.close)c.closeESC=!1;var d=function(a){return(a.all?!0:!1)||(a[b.os.name]?!0:!1)||(a[b.layout.name]?!0:!1)||(a[b.browser.name]?!0:!1)||(a[b.browser.className]?!0:!1)};if(!d(c.reject))return b.isFunction(c.onFail)&&c.onFail(c),!1;if(c.close&&c.closeCookie){var e=
"jreject-close",g=function(a,d){if(typeof d!="undefined"){var e="";c.cookieSettings.expires!=0&&(e=new Date,e.setTime(e.getTime()+c.cookieSettings.expires),e="; expires="+e.toGMTString());var f=c.cookieSettings.path||"/";document.cookie=a+"="+encodeURIComponent(d==null?"":d)+e+"; path="+f}else{f=null;if(document.cookie&&document.cookie!="")for(var g=document.cookie.split(";"),h=0;h<g.length;++h)if(e=b.trim(g[h]),e.substring(0,a.length+1)==a+"="){f=decodeURIComponent(e.substring(a.length+1));break}return f}};
if(g(e)!=null)return!1}var k='<div id="jr_overlay"></div><div id="jr_wrap"><div id="jr_inner"><h1 id="jr_header">'+c.header+"</h1>"+(c.paragraph1===""?"":"<p>"+c.paragraph1+"</p>")+(c.paragraph2===""?"":"<p>"+c.paragraph2+"</p>")+"<ul>",f=0,n;for(n in c.display){var a=c.display[n],o=c.browserInfo[a]||!1;if(o&&(o.allow==void 0||d(o.allow)))k+='<li id="jr_'+a+'"><div class="jr_icon"></div><div><a href="'+(o.url||"#")+'">'+(o.text||"Unknown")+"</a></div></li>",++f}k+='</ul><div id="jr_close">'+(c.close?
'<a href="'+c.closeURL+'">'+c.closeLink+"</a><p>"+c.closeMessage+"</p>":"")+"</div></div></div>";var p=b("<div>"+k+"</div>"),d=i(),k=h();p.bind("closejr",function(){if(!c.close)return!1;b.isFunction(c.beforeClose)&&c.beforeClose(c);b(this).unbind("closejr");b("#jr_overlay,#jr_wrap").fadeOut(c.fadeOutTime,function(){b(this).remove();b.isFunction(c.afterClose)&&c.afterClose(c)});b("embed, object, select, applet").show();c.closeCookie&&g(e,"true");return!0});p.find("#jr_overlay").css({width:d[0],height:d[1],
position:"absolute",top:0,left:0,background:c.overlayBgColor,zIndex:200,opacity:c.overlayOpacity,padding:0,margin:0}).next("#jr_wrap").css({position:"absolute",width:"100%",top:k[1]+d[3]/4,left:k[0],zIndex:300,textAlign:"center",padding:0,margin:0}).children("#jr_inner").css({background:"#FFF",border:"1px solid #CCC",fontFamily:'"Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif',color:"#4F4F4F",margin:"0 auto",position:"relative",height:"auto",minWidth:f*100,maxWidth:f*140,width:b.layout.name==
"trident"?f*155:"auto",padding:20,fontSize:12}).children("#jr_header").css({display:"block",fontSize:"1.3em",marginBottom:"0.5em",color:"#333",fontFamily:"Helvetica,Arial,sans-serif",fontWeight:"bold",textAlign:"left",padding:5,margin:0}).nextAll("p").css({textAlign:"left",padding:5,margin:0}).siblings("ul").css({listStyleImage:"none",listStylePosition:"outside",listStyleType:"none",margin:0,padding:0}).children("li").css({background:'transparent url("'+c.imagePath+'background_browser.gif") no-repeat scroll left top',
cusor:"pointer","float":"left",width:120,height:122,margin:"0 10px 10px 10px",padding:0,textAlign:"center"}).children(".jr_icon").css({width:100,height:100,margin:"1px auto",padding:0,background:"transparent no-repeat scroll left top",cursor:"pointer"}).each(function(){var a=b(this);a.css("background","transparent url("+c.imagePath+"browser_"+a.parent("li").attr("id").replace(/jr_/,"")+".gif) no-repeat scroll left top");a.click(function(){window.open(b(this).next("div").children("a").attr("href"),
"jr_"+Math.round(Math.random()*11));return!1})}).siblings("div").css({color:"#808080",fontSize:"0.8em",height:18,lineHeight:"17px",margin:"1px auto",padding:0,width:118,textAlign:"center"}).children("a").css({color:"#333",textDecoration:"none",padding:0,margin:0}).hover(function(){b(this).css("textDecoration","underline")},function(){b(this).css("textDecoration","none")}).click(function(){window.open(b(this).attr("href"),"jr_"+Math.round(Math.random()*11));return!1}).parents("#jr_inner").children("#jr_close").css({margin:"0 0 0 50px",
clear:"both",textAlign:"left",padding:0,margin:0}).children("a").css({color:"#000",display:"block",width:"auto",margin:0,padding:0,textDecoration:"underline"}).click(function(){b(this).trigger("closejr");if(c.closeURL==="#")return!1}).nextAll("p").css({padding:"10px 0 0 0",margin:0});b("#jr_overlay").focus();b("embed, object, select, applet").hide();b("body").append(p.hide().fadeIn(c.fadeInTime));b(window).bind("resize scroll",function(){var a=i();b("#jr_overlay").css({width:a[0],height:a[1]});var c=
h();b("#jr_wrap").css({top:c[1]+a[3]/4,left:c[0]})});c.closeESC&&b(document).bind("keydown",function(a){a.keyCode==27&&p.trigger("closejr")});b.isFunction(c.afterReject)&&c.afterReject(c);return!0};var i=function(){var b=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth,d=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>
document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight,e=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,g=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;return[b<e?b:e,d<g?g:d,e,g]},h=function(){return[window.pageXOffset?window.pageXOffset:
document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollLeft:document.body.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop]}})(jQuery);
(function(b){b.browserTest=function(i,h){var c=function(b,c){for(var d=0;d<c.length;d+=1)b=b.replace(c[d][0],c[d][1]);return b},d=function(d,g,h,f){g={name:c((g.exec(d)||["unknown","unknown"])[1],h)};g[g.name]=!0;g.version=(f.exec(d)||["X","X","X","X"])[3];if(g.name.match(/safari/)&&g.version>400)g.version="2.0";if(g.name==="presto")g.version=b.browser.version>9.27?"futhark":"linear_b";g.versionNumber=parseFloat(g.version,10)||0;g.versionX=g.version!=="X"?(g.version+"").substr(0,1):"X";g.className=
g.name+g.versionX;return g},i=(i.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?c(i,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):i).toLowerCase();b.browser=b.extend(!h?b.browser:{},d(i,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/));b.layout=
d(i,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/);b.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||["unknown"])[0].replace("sunos","solaris")};h||b("html").addClass([b.os.name,b.browser.name,b.browser.className,b.layout.name,b.layout.className].join(" "))};b.browserTest(navigator.userAgent)})(jQuery);
